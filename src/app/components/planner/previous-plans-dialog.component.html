<div class="dialog-container">
  <div class="dialog-header">
    <h2 mat-dialog-title>Planes anteriores</h2>
    <button mat-icon-button (click)="close()" aria-label="Cerrar">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="dialog-content">
    <div class="plans-list" *ngIf="data.plans && data.plans.length > 0; else noPlans">
      <mat-card
        *ngFor="let plan of data.plans; trackBy: trackByPlan"
        class="plan-card"
        (click)="selectPlan(plan)"
      >
        <mat-card-content class="plan-content">
          <div class="plan-info">
            <div class="plan-name">{{ plan.name }}</div>
            <div class="plan-meta">
              <span class="plan-date">{{ plan.date | date:'dd/MM/yyyy' }}</span>
              <span class="plan-sessions">{{ plan.sessions?.length || 0 }} sesiones</span>
            </div>
          </div>
          <div class="plan-actions">
            <button mat-icon-button color="primary" aria-label="Ver detalles del plan">
              <mat-icon>visibility</mat-icon>
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <ng-template #noPlans>
      <div class="empty-state">
        <mat-icon class="empty-icon">history</mat-icon>
        <p>No hay planes anteriores disponibles</p>
      </div>
    </ng-template>
  </div>

  <div class="dialog-actions">
    <button mat-stroked-button color="primary" (click)="close()">
      Cerrar
    </button>
  </div>
</div>
